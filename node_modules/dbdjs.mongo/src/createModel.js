const Schema = require("mongoose").Schema;
const schema = new Schema({
  key: Schema.Types.String,
  data: Schema.Types.Mixed,
});

function createModel({ instance, models }, name) {
  if (typeof name !== "string")
    throw new TypeError("Invalid provided name type, expecting string");

  const model = instance.model(name, schema);

  models.set(name, model);
}

module.exports = createModel;
