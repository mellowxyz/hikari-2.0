async function deleteData({ _, models }, name, key) {
  if (typeof key !== "string")
    throw new TypeError("Invalid key type, expecting string");

  const model = models.get(name);

  if (!model) throw new Error(`No model with name '${name}' found`);

  const result = await model.findOneAndDelete({
    key,
  });

  return !!result;
}

module.exports = deleteData;
