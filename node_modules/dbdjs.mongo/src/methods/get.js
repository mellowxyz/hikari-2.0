async function get({ _, models }, name, key) {
  if (typeof key !== "string")
    throw new TypeError("Invalid key type, expecting string");

  const model = models.get(name);

  if (!model) throw new Error(`No model with name '${name}' found`);

  const result = await model.findOne({
    key,
  });

  return result
    ? {
        key: result.key,
        value: result.data,
      }
    : undefined;
}

module.exports = get;
