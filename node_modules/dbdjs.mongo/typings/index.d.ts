declare module "dbdjs.mongo" {
  import { Document, Mongoose, Connection, Model } from "mongoose";

  class Instance {
    setInstance(instance: Mongoose | Connection): void;
    createModel(name: string): void;
    deleteModel(name: string): void;
    getModel(name: string): Model<Documents>;
    set(model: string, key: string, value: any): Promise<boolean>;
    get(model: string, key: string): Promise<Data>;
    all(model: string, options: AllOptions): Promise<AllData[]>;
    delete(model: string, key: string): Promise<boolean>;
  }

  let instance: Instance;

  export default instance;
  export function create(instance: Mongoose | Connection): Instance;
  export interface Data {
    key: string;
    value: any;
  }
  export interface AllData {
    key: string;
    data: Data;
  }
  export interface AllOptions {
    filter(data: AllData): boolean;
  }
  export interface Documents extends Document {
    key: string;
    data?: any;
  }
}
